import streamlit as st
import pandas as pd

# Set page configuration
st.set_page_config(page_title="Biomedical Knowledge Graph Models Results Viewer", page_icon="ðŸ“‚")
st.title("ðŸ“‚ Biomedical Knowledge Graph Models Results Viewer")

# Define the mapping of dropdown selections to corresponding CSV files
# File names follow the pattern: {negative_sampling}_{model}_{frequency1}_{frequency2}.csv
csv_file_mapping = {
('Basic Synthetic', 'TransD', 50, 50): "data/basic_TransD_50_50.csv",
('Basic Synthetic', 'TransD', 50, 100): "data/basic_TransD_50_100.csv",
('Basic Synthetic', 'TransD', 50, 200): "data/basic_TransD_50_200.csv",
('Basic Synthetic', 'TransD', 75, 50): "data/basic_TransD_75_50.csv",
('Basic Synthetic', 'TransD', 75, 100): "data/basic_TransD_75_100.csv",
('Basic Synthetic', 'TransD', 75, 200): "data/basic_TransD_75_200.csv",
('Basic Synthetic', 'TransD', 100, 50): "data/basic_TransD_100_50.csv",
('Basic Synthetic', 'TransD', 100, 100): "data/basic_TransD_100_100.csv",
('Basic Synthetic', 'TransD', 100, 200): "data/basic_TransD_100_200.csv",
('Basic Synthetic', 'TransE', 50, 50): "data/basic_TransE_50_50.csv",
('Basic Synthetic', 'TransE', 50, 100): "data/basic_TransE_50_100.csv",
('Basic Synthetic', 'TransE', 50, 200): "data/basic_TransE_50_200.csv",
('Basic Synthetic', 'TransE', 75, 50): "data/basic_TransE_75_50.csv",
('Basic Synthetic', 'TransE', 75, 100): "data/basic_TransE_75_100.csv",
('Basic Synthetic', 'TransE', 75, 200): "data/basic_TransE_75_200.csv",
('Basic Synthetic', 'TransE', 100, 50): "data/basic_TransE_100_50.csv",
('Basic Synthetic', 'TransE', 100, 100): "data/basic_TransE_100_100.csv",
('Basic Synthetic', 'TransE', 100, 200): "data/basic_TransE_100_200.csv",
('Basic Synthetic', 'TransF', 50, 50): "data/basic_TransF_50_50.csv",
('Basic Synthetic', 'TransF', 50, 100): "data/basic_TransF_50_100.csv",
('Basic Synthetic', 'TransF', 50, 200): "data/basic_TransF_50_200.csv",
('Basic Synthetic', 'TransF', 75, 50): "data/basic_TransF_75_50.csv",
('Basic Synthetic', 'TransF', 75, 100): "data/basic_TransF_75_100.csv",
('Basic Synthetic', 'TransF', 75, 200): "data/basic_TransF_75_200.csv",
('Basic Synthetic', 'TransF', 100, 50): "data/basic_TransF_100_50.csv",
('Basic Synthetic', 'TransF', 100, 100): "data/basic_TransF_100_100.csv",
('Basic Synthetic', 'TransF', 100, 200): "data/basic_TransF_100_200.csv",
('Basic Synthetic', 'TransH', 50, 50): "data/basic_TransH_50_50.csv",
('Basic Synthetic', 'TransH', 50, 100): "data/basic_TransH_50_100.csv",
('Basic Synthetic', 'TransH', 50, 200): "data/basic_TransH_50_200.csv",
('Basic Synthetic', 'TransH', 75, 50): "data/basic_TransH_75_50.csv",
('Basic Synthetic', 'TransH', 75, 100): "data/basic_TransH_75_100.csv",
('Basic Synthetic', 'TransH', 75, 200): "data/basic_TransH_75_200.csv",
('Basic Synthetic', 'TransH', 100, 50): "data/basic_TransH_100_50.csv",
('Basic Synthetic', 'TransH', 100, 100): "data/basic_TransH_100_100.csv",
('Basic Synthetic', 'TransH', 100, 200): "data/basic_TransH_100_200.csv",
('Basic Synthetic', 'TransR', 50, 50): "data/basic_TransR_50_50.csv",
('Basic Synthetic', 'TransR', 50, 100): "data/basic_TransR_50_100.csv",
('Basic Synthetic', 'TransR', 50, 200): "data/basic_TransR_50_200.csv",
('Basic Synthetic', 'TransR', 75, 50): "data/basic_TransR_75_50.csv",
('Basic Synthetic', 'TransR', 75, 100): "data/basic_TransR_75_100.csv",
('Basic Synthetic', 'TransR', 75, 200): "data/basic_TransR_75_200.csv",
('Basic Synthetic', 'TransR', 100, 50): "data/basic_TransR_100_50.csv",
('Basic Synthetic', 'TransR', 100, 100): "data/basic_TransR_100_100.csv",
('Basic Synthetic', 'TransR', 100, 200): "data/basic_TransR_100_200.csv",
('Basic Synthetic', 'ProjE', 50, 50): "data/basic_ProjE_50_50.csv",
('Basic Synthetic', 'ProjE', 50, 100): "data/basic_ProjE_50_100.csv",
('Basic Synthetic', 'ProjE', 50, 200): "data/basic_ProjE_50_200.csv",
('Basic Synthetic', 'ProjE', 75, 50): "data/basic_ProjE_75_50.csv",
('Basic Synthetic', 'ProjE', 75, 100): "data/basic_ProjE_75_100.csv",
('Basic Synthetic', 'ProjE', 75, 200): "data/basic_ProjE_75_200.csv",
('Basic Synthetic', 'ProjE', 100, 50): "data/basic_ProjE_100_50.csv",
('Basic Synthetic', 'ProjE', 100, 100): "data/basic_ProjE_100_100.csv",
('Basic Synthetic', 'ProjE', 100, 200): "data/basic_ProjE_100_200.csv",
('Basic Synthetic', 'Rescal', 50, 50): "data/basic_Rescal_50_50.csv",
('Basic Synthetic', 'Rescal', 50, 100): "data/basic_Rescal_50_100.csv",
('Basic Synthetic', 'Rescal', 50, 200): "data/basic_Rescal_50_200.csv",
('Basic Synthetic', 'Rescal', 75, 50): "data/basic_Rescal_75_50.csv",
('Basic Synthetic', 'Rescal', 75, 100): "data/basic_Rescal_75_100.csv",
('Basic Synthetic', 'Rescal', 75, 200): "data/basic_Rescal_75_200.csv",
('Basic Synthetic', 'Rescal', 100, 50): "data/basic_Rescal_100_50.csv",
('Basic Synthetic', 'Rescal', 100, 100): "data/basic_Rescal_100_100.csv",
('Basic Synthetic', 'Rescal', 100, 200): "data/basic_Rescal_100_200.csv",
('Custom Synthetic', 'TransD', 50, 50): "data/custom_TransD_50_50.csv",
('Custom Synthetic', 'TransD', 50, 100): "data/custom_TransD_50_100.csv",
('Custom Synthetic', 'TransD', 50, 200): "data/custom_TransD_50_200.csv",
('Custom Synthetic', 'TransD', 75, 50): "data/custom_TransD_75_50.csv",
('Custom Synthetic', 'TransD', 75, 100): "data/custom_TransD_75_100.csv",
('Custom Synthetic', 'TransD', 75, 200): "data/custom_TransD_75_200.csv",
('Custom Synthetic', 'TransD', 100, 50): "data/custom_TransD_100_50.csv",
('Custom Synthetic', 'TransD', 100, 100): "data/custom_TransD_100_100.csv",
('Custom Synthetic', 'TransD', 100, 200): "data/custom_TransD_100_200.csv",
('Custom Synthetic', 'TransE', 50, 50): "data/custom_TransE_50_50.csv",
('Custom Synthetic', 'TransE', 50, 100): "data/custom_TransE_50_100.csv",
('Custom Synthetic', 'TransE', 50, 200): "data/custom_TransE_50_200.csv",
('Custom Synthetic', 'TransE', 75, 50): "data/custom_TransE_75_50.csv",
('Custom Synthetic', 'TransE', 75, 100): "data/custom_TransE_75_100.csv",
('Custom Synthetic', 'TransE', 75, 200): "data/custom_TransE_75_200.csv",
('Custom Synthetic', 'TransE', 100, 50): "data/custom_TransE_100_50.csv",
('Custom Synthetic', 'TransE', 100, 100): "data/custom_TransE_100_100.csv",
('Custom Synthetic', 'TransE', 100, 200): "data/custom_TransE_100_200.csv",
('Custom Synthetic', 'TransF', 50, 50): "data/custom_TransF_50_50.csv",
('Custom Synthetic', 'TransF', 50, 100): "data/custom_TransF_50_100.csv",
('Custom Synthetic', 'TransF', 50, 200): "data/custom_TransF_50_200.csv",
('Custom Synthetic', 'TransF', 75, 50): "data/custom_TransF_75_50.csv",
('Custom Synthetic', 'TransF', 75, 100): "data/custom_TransF_75_100.csv",
('Custom Synthetic', 'TransF', 75, 200): "data/custom_TransF_75_200.csv",
('Custom Synthetic', 'TransF', 100, 50): "data/custom_TransF_100_50.csv",
('Custom Synthetic', 'TransF', 100, 100): "data/custom_TransF_100_100.csv",
('Custom Synthetic', 'TransF', 100, 200): "data/custom_TransF_100_200.csv",
('Custom Synthetic', 'TransH', 50, 50): "data/custom_TransH_50_50.csv",
('Custom Synthetic', 'TransH', 50, 100): "data/custom_TransH_50_100.csv",
('Custom Synthetic', 'TransH', 50, 200): "data/custom_TransH_50_200.csv",
('Custom Synthetic', 'TransH', 75, 50): "data/custom_TransH_75_50.csv",
('Custom Synthetic', 'TransH', 75, 100): "data/custom_TransH_75_100.csv",
('Custom Synthetic', 'TransH', 75, 200): "data/custom_TransH_75_200.csv",
('Custom Synthetic', 'TransH', 100, 50): "data/custom_TransH_100_50.csv",
('Custom Synthetic', 'TransH', 100, 100): "data/custom_TransH_100_100.csv",
('Custom Synthetic', 'TransH', 100, 200): "data/custom_TransH_100_200.csv",
('Custom Synthetic', 'TransR', 50, 50): "data/custom_TransR_50_50.csv",
('Custom Synthetic', 'TransR', 50, 100): "data/custom_TransR_50_100.csv",
('Custom Synthetic', 'TransR', 50, 200): "data/custom_TransR_50_200.csv",
('Custom Synthetic', 'TransR', 75, 50): "data/custom_TransR_75_50.csv",
('Custom Synthetic', 'TransR', 75, 100): "data/custom_TransR_75_100.csv",
('Custom Synthetic', 'TransR', 75, 200): "data/custom_TransR_75_200.csv",
('Custom Synthetic', 'TransR', 100, 50): "data/custom_TransR_100_50.csv",
('Custom Synthetic', 'TransR', 100, 100): "data/custom_TransR_100_100.csv",
('Custom Synthetic', 'TransR', 100, 200): "data/custom_TransR_100_200.csv",
('Custom Synthetic', 'ProjE', 50, 50): "data/custom_ProjE_50_50.csv",
('Custom Synthetic', 'ProjE', 50, 100): "data/custom_ProjE_50_100.csv",
('Custom Synthetic', 'ProjE', 50, 200): "data/custom_ProjE_50_200.csv",
('Custom Synthetic', 'ProjE', 75, 50): "data/custom_ProjE_75_50.csv",
('Custom Synthetic', 'ProjE', 75, 100): "data/custom_ProjE_75_100.csv",
('Custom Synthetic', 'ProjE', 75, 200): "data/custom_ProjE_75_200.csv",
('Custom Synthetic', 'ProjE', 100, 50): "data/custom_ProjE_100_50.csv",
('Custom Synthetic', 'ProjE', 100, 100): "data/custom_ProjE_100_100.csv",
('Custom Synthetic', 'ProjE', 100, 200): "data/custom_ProjE_100_200.csv",
('Custom Synthetic', 'Rescal', 50, 50): "data/custom_Rescal_50_50.csv",
('Custom Synthetic', 'Rescal', 50, 100): "data/custom_Rescal_50_100.csv",
('Custom Synthetic', 'Rescal', 50, 200): "data/custom_Rescal_50_200.csv",
('Custom Synthetic', 'Rescal', 75, 50): "data/custom_Rescal_75_50.csv",
('Custom Synthetic', 'Rescal', 75, 100): "data/custom_Rescal_75_100.csv",
('Custom Synthetic', 'Rescal', 75, 200): "data/custom_Rescal_75_200.csv",
('Custom Synthetic', 'Rescal', 100, 50): "data/custom_Rescal_100_50.csv",
('Custom Synthetic', 'Rescal', 100, 100): "data/custom_Rescal_100_100.csv",
('Custom Synthetic', 'Rescal', 100, 200): "data/custom_Rescal_100_200.csv",
('RepoDB Unapproved', 'TransD', 50, 50): "data/unapproved_TransD_50_50.csv",
('RepoDB Unapproved', 'TransD', 50, 100): "data/unapproved_TransD_50_100.csv",
('RepoDB Unapproved', 'TransD', 50, 200): "data/unapproved_TransD_50_200.csv",
('RepoDB Unapproved', 'TransD', 75, 50): "data/unapproved_TransD_75_50.csv",
('RepoDB Unapproved', 'TransD', 75, 100): "data/unapproved_TransD_75_100.csv",
('RepoDB Unapproved', 'TransD', 75, 200): "data/unapproved_TransD_75_200.csv",
('RepoDB Unapproved', 'TransD', 100, 50): "data/unapproved_TransD_100_50.csv",
('RepoDB Unapproved', 'TransD', 100, 100): "data/unapproved_TransD_100_100.csv",
('RepoDB Unapproved', 'TransD', 100, 200): "data/unapproved_TransD_100_200.csv",
('RepoDB Unapproved', 'TransE', 50, 50): "data/unapproved_TransE_50_50.csv",
('RepoDB Unapproved', 'TransE', 50, 100): "data/unapproved_TransE_50_100.csv",
('RepoDB Unapproved', 'TransE', 50, 200): "data/unapproved_TransE_50_200.csv",
('RepoDB Unapproved', 'TransE', 75, 50): "data/unapproved_TransE_75_50.csv",
('RepoDB Unapproved', 'TransE', 75, 100): "data/unapproved_TransE_75_100.csv",
('RepoDB Unapproved', 'TransE', 75, 200): "data/unapproved_TransE_75_200.csv",
('RepoDB Unapproved', 'TransE', 100, 50): "data/unapproved_TransE_100_50.csv",
('RepoDB Unapproved', 'TransE', 100, 100): "data/unapproved_TransE_100_100.csv",
('RepoDB Unapproved', 'TransE', 100, 200): "data/unapproved_TransE_100_200.csv",
('RepoDB Unapproved', 'TransF', 50, 50): "data/unapproved_TransF_50_50.csv",
('RepoDB Unapproved', 'TransF', 50, 100): "data/unapproved_TransF_50_100.csv",
('RepoDB Unapproved', 'TransF', 50, 200): "data/unapproved_TransF_50_200.csv",
('RepoDB Unapproved', 'TransF', 75, 50): "data/unapproved_TransF_75_50.csv",
('RepoDB Unapproved', 'TransF', 75, 100): "data/unapproved_TransF_75_100.csv",
('RepoDB Unapproved', 'TransF', 75, 200): "data/unapproved_TransF_75_200.csv",
('RepoDB Unapproved', 'TransF', 100, 50): "data/unapproved_TransF_100_50.csv",
('RepoDB Unapproved', 'TransF', 100, 100): "data/unapproved_TransF_100_100.csv",
('RepoDB Unapproved', 'TransF', 100, 200): "data/unapproved_TransF_100_200.csv",
('RepoDB Unapproved', 'TransH', 50, 50): "data/unapproved_TransH_50_50.csv",
('RepoDB Unapproved', 'TransH', 50, 100): "data/unapproved_TransH_50_100.csv",
('RepoDB Unapproved', 'TransH', 50, 200): "data/unapproved_TransH_50_200.csv",
('RepoDB Unapproved', 'TransH', 75, 50): "data/unapproved_TransH_75_50.csv",
('RepoDB Unapproved', 'TransH', 75, 100): "data/unapproved_TransH_75_100.csv",
('RepoDB Unapproved', 'TransH', 75, 200): "data/unapproved_TransH_75_200.csv",
('RepoDB Unapproved', 'TransH', 100, 50): "data/unapproved_TransH_100_50.csv",
('RepoDB Unapproved', 'TransH', 100, 100): "data/unapproved_TransH_100_100.csv",
('RepoDB Unapproved', 'TransH', 100, 200): "data/unapproved_TransH_100_200.csv",
('RepoDB Unapproved', 'TransR', 50, 50): "data/unapproved_TransR_50_50.csv",
('RepoDB Unapproved', 'TransR', 50, 100): "data/unapproved_TransR_50_100.csv",
('RepoDB Unapproved', 'TransR', 50, 200): "data/unapproved_TransR_50_200.csv",
('RepoDB Unapproved', 'TransR', 75, 50): "data/unapproved_TransR_75_50.csv",
('RepoDB Unapproved', 'TransR', 75, 100): "data/unapproved_TransR_75_100.csv",
('RepoDB Unapproved', 'TransR', 75, 200): "data/unapproved_TransR_75_200.csv",
('RepoDB Unapproved', 'TransR', 100, 50): "data/unapproved_TransR_100_50.csv",
('RepoDB Unapproved', 'TransR', 100, 100): "data/unapproved_TransR_100_100.csv",
('RepoDB Unapproved', 'TransR', 100, 200): "data/unapproved_TransR_100_200.csv",
('RepoDB Unapproved', 'ProjE', 50, 50): "data/unapproved_ProjE_50_50.csv",
('RepoDB Unapproved', 'ProjE', 50, 100): "data/unapproved_ProjE_50_100.csv",
('RepoDB Unapproved', 'ProjE', 50, 200): "data/unapproved_ProjE_50_200.csv",
('RepoDB Unapproved', 'ProjE', 75, 50): "data/unapproved_ProjE_75_50.csv",
('RepoDB Unapproved', 'ProjE', 75, 100): "data/unapproved_ProjE_75_100.csv",
('RepoDB Unapproved', 'ProjE', 75, 200): "data/unapproved_ProjE_75_200.csv",
('RepoDB Unapproved', 'ProjE', 100, 50): "data/unapproved_ProjE_100_50.csv",
('RepoDB Unapproved', 'ProjE', 100, 100): "data/unapproved_ProjE_100_100.csv",
('RepoDB Unapproved', 'ProjE', 100, 200): "data/unapproved_ProjE_100_200.csv",
('RepoDB Unapproved', 'Rescal', 50, 50): "data/unapproved_Rescal_50_50.csv",
('RepoDB Unapproved', 'Rescal', 50, 100): "data/unapproved_Rescal_50_100.csv",
('RepoDB Unapproved', 'Rescal', 50, 200): "data/unapproved_Rescal_50_200.csv",
('RepoDB Unapproved', 'Rescal', 75, 50): "data/unapproved_Rescal_75_50.csv",
('RepoDB Unapproved', 'Rescal', 75, 100): "data/unapproved_Rescal_75_100.csv",
('RepoDB Unapproved', 'Rescal', 75, 200): "data/unapproved_Rescal_75_200.csv",
('RepoDB Unapproved', 'Rescal', 100, 50): "data/unapproved_Rescal_100_50.csv",
('RepoDB Unapproved', 'Rescal', 100, 100): "data/unapproved_Rescal_100_100.csv",
('RepoDB Unapproved', 'Rescal', 100, 200): "data/unapproved_Rescal_100_200.csv",
}

# Dropdowns for filtering
negative_sampling = st.selectbox(
    "Select Negative Sampling:",
    ["Basic Synthetic", "Custom Synthetic", "RepoDB Unapproved"],
    help="Choose the negative sampling type"
)

model_name = st.selectbox(
    "Select Model Name:",
    ["TransD", "TransE", "TransF", "TransH", "TransR", "ProjE", "Rescal"],
    help="Choose the model name"
)

frequency1 = st.selectbox(
    "Select Frequency:",
    [50, 75, 100],
    help="Choose the frequency filter"
)

frequency2 = st.selectbox(
    "Select Embedding:",
    [50, 100, 200],
    help="Choose the embedding filter"
)

# Check if the combination exists in the mapping
selection_key = (negative_sampling, model_name, frequency1, frequency2)

if selection_key in csv_file_mapping:
    # Load the corresponding CSV file
    file_path = csv_file_mapping[selection_key]
    try:
        df = pd.read_csv(file_path)
        st.write(f"### Data from `{file_path}`:")
        st.dataframe(df, use_container_width=True)
        
        # Option to download filtered data
        csv = df.to_csv(index=False)
        st.download_button(
            label="Download Data as CSV",
            data=csv,
            file_name=file_path.split("/")[-1],
            mime="text/csv",
        )
    except FileNotFoundError:
        st.error(f"File `{file_path}` not found. Please check the file path or upload the file.")
else:
    st.warning("No CSV file matches the selected combination. Please check your selections.")
